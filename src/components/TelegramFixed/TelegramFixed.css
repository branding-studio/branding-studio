/* ===========================
   Telegram Fixed FAB (Light)
   =========================== */

/* Design tokens with safe fallbacks */
:root {
  --tgfab-bg: #229ed9;                      /* Telegram brand */
  --tgfab-bg-hover: #1b8aba;
  --tgfab-text: #ffffff;
  --tgfab-shadow: 0 12px 30px rgba(34, 158, 217, 0.35);
  --tgfab-shadow-hover: 0 14px 36px rgba(34, 158, 217, 0.45);
  --tgfab-ring: rgba(34, 158, 217, 0.4);
  --tgfab-size: 52px;                       /* button height */
  --tgfab-pad-inline: 1.1rem;               /* internal x padding */
  --tgfab-gap: 0.6rem;
  --tgfab-radius: 999px;
  --tgfab-z: 10000;
  --tgfab-font: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  --tgfab-font-size: 15px;
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  :root {
    --tgfab-bg: #1a94cf;
    --tgfab-bg-hover: #1587bf;
    --tgfab-text: #ffffff;
    --tgfab-shadow: 0 12px 28px rgba(34, 158, 217, 0.35);
    --tgfab-shadow-hover: 0 14px 34px rgba(34, 158, 217, 0.45);
    --tgfab-ring: rgba(34, 158, 217, 0.5);
  }
}

/* Wrapper handles position + safe-area insets */
.tgfab-wrap {
  position: fixed;
  inset-inline-end: env(safe-area-inset-right);
  inset-inline-start: auto;
  transform: translateY(-50%);
  z-index: var(--tgfab-z);
  pointer-events: none; /* container shouldnâ€™t capture clicks */
}

/* Left/right positioning */
.tgfab-wrap[data-position="left"] {
  inset-inline-start: env(safe-area-inset-left);
  inset-inline-end: auto;
}

/* The button itself */
.tgfab {
  pointer-events: auto;
  display: inline-flex;
  align-items: center;
  gap: var(--tgfab-gap);
  height: var(--tgfab-size);
  padding-inline: calc(var(--tgfab-pad-inline) + 0.4rem) calc(var(--tgfab-pad-inline) + 1.2rem);
  border-radius: var(--tgfab-radius);
  background: var(--tgfab-bg);
  color: var(--tgfab-text);
  text-decoration: none;
  font-family: var(--tgfab-font);
  font-weight: 800;
  font-size: var(--tgfab-font-size);
  line-height: 1;
  box-shadow: var(--tgfab-shadow);
  border: 1px solid rgba(255, 255, 255, 0.08);
  will-change: transform, box-shadow, background-color;
  transition: transform .18s ease, box-shadow .18s ease, background-color .18s ease, filter .18s ease;
  padding-block: 0; /* ensure exact height */
}

/* Icon size tuned to the pill height */
.tgfab-ico {
  font-size: 1.35em;
}

/* Label visibility */
.tgfab-label {
  white-space: nowrap;
}

/* On small screens, keep it compact (icon-only)
   and reveal label at md+ via .md-up */
.tgfab-label.md-up {
  display: none;
}

@media (min-width: 720px) {
  .tgfab-label.md-up {
    display: inline;
  }
}

/* Hover/Active states */
.tgfab:hover {
  transform: translateY(-2px);
  box-shadow: var(--tgfab-shadow-hover);
  background: var(--tgfab-bg-hover);
}

.tgfab:active {
  transform: translateY(-1px);
  filter: saturate(1.05);
}

/* Focus visibility (keyboard users) */
.tgfab:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 3px var(--tgfab-ring),
    var(--tgfab-shadow-hover);
}

/* Subtle attention pulse (respects reduced motion) */
@keyframes tgfab-pulse {
  0% { box-shadow: var(--tgfab-shadow); transform: translateY(0); }
  50% { box-shadow: 0 14px 36px rgba(34, 158, 217, 0.55); transform: translateY(-1px); }
  100% { box-shadow: var(--tgfab-shadow); transform: translateY(0); }
}

.tgfab.pulse {
  animation: tgfab-pulse 2.6s ease-in-out 1s infinite;
}

/* Reduce motion: disable animations */
@media (prefers-reduced-motion: reduce) {
  .tgfab.pulse { animation: none; }
  .tgfab { transition: none; }
}

/* High-contrast users: stronger focus ring */
@media (prefers-contrast: more) {
  .tgfab:focus-visible {
    box-shadow:
      0 0 0 3px #fff,
      0 0 0 6px var(--tgfab-bg-hover),
      var(--tgfab-shadow-hover);
  }
}

/* Mobile / small viewports */
@media (max-width: 640px) {
  :root {
    --tgfab-size: 48px;
    --tgfab-font-size: 14px;
  }

  .tgfab {
    padding-inline: 0.95rem 1.2rem; /* more compact */
  }
}

/* Safe-area breathing room on notched devices */
.tgfab-wrap[data-position="right"] .tgfab {
  margin-inline-end: max(0.6rem, env(safe-area-inset-right));
}
.tgfab-wrap[data-position="left"] .tgfab {
  margin-inline-start: max(0.6rem, env(safe-area-inset-left));
}
